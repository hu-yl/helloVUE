{"remainingRequest":"/Users/huyaolong/Desktop/helloVUE/node_modules/babel-loader/lib/index.js!/Users/huyaolong/Desktop/helloVUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huyaolong/Desktop/helloVUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huyaolong/Desktop/helloVUE/src/components/pages/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huyaolong/Desktop/helloVUE/src/components/pages/Cart.vue","mtime":1553699901099},{"path":"/Users/huyaolong/Desktop/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/huyaolong/Desktop/helloVUE/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { toMoney } from '@/filter/moneyFilter.js';\nexport default {\n  data: function data() {\n    return {\n      cartInfo: [],\n      isEmpty: false\n    };\n  },\n  created: function created() {\n    this.getCartInfo();\n  },\n  computed: {\n    totalMoney: function totalMoney() {\n      var allMoney = 0;\n      this.cartInfo.forEach(function (item, index) {\n        allMoney += item.price * item.count;\n      });\n      localStorage.cartInfo = _JSON$stringify(this.cartInfo);\n      return allMoney;\n    }\n  },\n  filters: {\n    moneyFilter: function moneyFilter(money) {\n      return toMoney(money);\n    }\n  },\n  methods: {\n    //得到购物车数据的方法\n    getCartInfo: function getCartInfo() {\n      if (localStorage.cartInfo) {\n        this.cartInfo = JSON.parse(localStorage.cartInfo);\n      }\n\n      console.log(' this.cartInfo:' + _JSON$stringify(this.cartInfo));\n      this.isEmpty = this.cartInfo.length > 0 ? true : false;\n    },\n    clearCart: function clearCart() {\n      localStorage.removeItem('cartInfo');\n      this.cartInfo = [];\n    }\n  }\n};",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,OAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,WAAA;AACA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,QAAA,GAAA,CAAA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,QAAA,QAAA,IAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAFA;AAGA,MAAA,YAAA,CAAA,QAAA,GAAA,gBAAA,KAAA,QAAA,CAAA;AACA,aAAA,QAAA;AACA;AARA,GAXA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA,aAAA,OAAA,CAAA,KAAA,CAAA;AACA;AAHA,GArBA;AA0BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAFA,yBAEA;AACA,UAAA,YAAA,CAAA,QAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,QAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,gBAAA,KAAA,QAAA,CAAA;AACA,WAAA,OAAA,GAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AAEA,KATA;AAUA,IAAA,SAVA,uBAUA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,UAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA;AAbA;AA1BA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"navbar-div\">\n            <van-nav-bar title=\"购物车\"/>\n        </div>\n        <div class=\"cart-title\">\n            <van-button size=\"small\"  type=\"danger\" @click=\"clearCart\" plain>\n                清空购物车\n            </van-button>\n        </div>\n        <!--显示购物车中的商品-->\n        <div class=\"cart-list\">\n            <div class=\"pang-row\" v-for=\"(item,index) in cartInfo\" :key=\"index\">\n                <div class=\"pang-img\">\n                    <img :src=\"item.image\" width=\"100%\" />\n                </div>\n                <div class=\"pang-text\">\n                    <div class=\"pang-goods-name\">{{item.name}}</div>\n                    <div class=\"pang-control\">\n                        <van-stepper v-model=\"item.count\" />\n                    </div>\n                </div>\n                <div class=\"pang-goods-price\">\n                    <div>\n                        ￥{{item.price | moneyFilter}}\n                    </div>\n                    <div>\n                        x{{item.count}}\n                    </div>\n                    <div class=\"allPrice\">\n                        ￥{{item.price*item.count | moneyFilter}}\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <!--显示总金额-->\n        \n        <div class=\"totalMoeny\">\n            商品总价:￥{{totalMoney | moneyFilter}}\n        </div>\n\n    </div>\n    \n</template>\n\n<script>\n    import { toMoney} from '@/filter/moneyFilter.js'\n    export default {\n       data() {\n           return {\n               cartInfo: [] ,\n               isEmpty: false ,\n           }\n          \n       }, \n       created(){\n           this.getCartInfo()\n       },\n       computed:{\n           totalMoney(){\n               let allMoney = 0 \n               this.cartInfo.forEach((item,index)=>{\n                   allMoney += item.price*item.count\n               })\n              localStorage.cartInfo = JSON.stringify(this.cartInfo)\n            return allMoney\n           }\n       },\n       filters:{\n           moneyFilter(money){\n               return toMoney(money)\n           }\n       },\n       methods: {\n            //得到购物车数据的方法\n            getCartInfo() { \n                if(localStorage.cartInfo){\n                    this.cartInfo=JSON.parse(localStorage.cartInfo)\n                } \n                console.log(' this.cartInfo:'+JSON.stringify(this.cartInfo))\n                this.isEmpty=this.cartInfo.length>0 ?true : false\n            \n            },\n            clearCart(){\n                localStorage.removeItem('cartInfo')\n                this.cartInfo=[]\n            }\n        },\n    }\n</script>\n\n<style scoped>\n.cart-title{\n    height: 2rem;\n    line-height: 2rem;\n    background-color: #fff;\n    border-bottom:1px solid #E4E7ED;\n    padding:5px;\n    text-align:right;\n}\n\n.cart-list{\n    background-color: #fff;\n}\n.pang-row{\n    display: flex;\n    flex-direction: row;\n    flex-wrap:nowrap;\n    padding:0.5rem;\n    font-size:0.85rem;\n    border-bottom:1px solid #E4E7ED;\n}\n\n.pang-img{\n    flex:6;\n}\n.pang-text{\n    flex:14;\n    padding-left:10px;\n}\n.pang-control{\n    padding-top:10px;\n}\n.pang-goods-price{\n    flex:4;\n    text-align: right;\n}\n.allPrice{\n    color:red;\n}\n.totalMoeny{\n    text-align: right;\n    background-color: #fff;\n    border-bottom:1px solid #E4E7ED;\n    padding:5px;\n}\n</style>"],"sourceRoot":"src/components/pages"}]}