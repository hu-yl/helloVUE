{"remainingRequest":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/babel-loader/lib/index.js!/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huyaolong/Desktop/helloVUE/helloVUE/src/components/pages/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/src/components/pages/Register.vue","mtime":1553096675320},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport url from '@/serviceAPI.config.js';\nexport default {\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      openLoading: false,\n      //是否开启用户注册的Loading状态\n      usernameErrorMsg: '',\n      //当用户名出现错误时的提示信息\n      passwordErrorMsg: '' //当密码出现错误时的提示信息\n\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    registerAction: function registerAction() {\n      this.checkForm() && this.axiosRegisterUser(); //如果第一个不为true，第二个不执行\n    },\n    axiosRegisterUser: function axiosRegisterUser() {\n      var _this = this;\n\n      this.openLoading = true;\n      axios({\n        url: url.registerUser,\n        method: 'post',\n        data: {\n          userName: this.username,\n          password: this.password\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data.code == 200) {\n          _Toast.success(response.data.message);\n\n          _this.$router.push('/'); //跳转到首页\n\n        } else {\n          console.log(response.data.message);\n          _this.openLoading = false;\n\n          _Toast.fail('注册失败');\n        }\n      }).catch(function (error) {\n        console.log(error);\n\n        _Toast.fail('注册失败');\n\n        _this.openLoading = false;\n      });\n    },\n    //****表单验证方法\n    checkForm: function checkForm() {\n      var isOk = true;\n\n      if (this.username.length < 5) {\n        this.usernameErrorMsg = \"用户名不能少于5位\";\n        isOk = false;\n      } else {\n        this.usernameErrorMsg = '';\n      }\n\n      if (this.password.length < 6) {\n        this.passwordErrorMsg = '密码不能少于6位';\n        isOk = false;\n      } else {\n        this.passwordErrorMsg = '';\n      }\n\n      return isOk;\n    }\n  }\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,GAAA,MAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAGA;AACA,MAAA,gBAAA,EAAA,EAJA;AAIA;AACA,MAAA,gBAAA,EAAA,EALA,CAKA;;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,WAAA,SAAA,MAAA,KAAA,iBAAA,EAAA,CADA,CAEA;AACA,KAPA;AASA,IAAA,iBATA,+BASA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,GAAA,CAAA,YADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA;AAHA,OAAA,CAAA,CAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,iBAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAFA,CAEA;;AACA,SAHA,MAGA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,KAAA;;AACA,iBAAA,IAAA,CAAA,MAAA;AACA;AAEA,OAnBA,EAoBA,KApBA,CAoBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;;AACA,eAAA,IAAA,CAAA,MAAA;;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAxBA;AAyBA,KApCA;AAqCA;AACA,IAAA,SAtCA,uBAsCA;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,gBAAA,GAAA,WAAA;AACA,QAAA,IAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,gBAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,gBAAA,GAAA,UAAA;AACA,QAAA,IAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,gBAAA,GAAA,EAAA;AACA;;AAEA,aAAA,IAAA;AACA;AAtDA;AAVA,CAAA","sourcesContent":["<template>\n    <div>\n        <van-nav-bar\n            title=\"用户注册\"\n            left-text=\"返回\"\n            left-arrow\n            @click-left=\"goBack\"\n         />\n         <div class=\"register-panel\">\n            <van-field \n                v-model=\"username\"\n                label=\"用户名\"\n                icon=\"clear\"\n                placeholder=\"请输入用户名\"\n                required\n                @click-icon=\"username=''\"\n                :error-message=\"usernameErrorMsg\"\n            />\n\n            <van-field \n                v-model=\"password\"\n                type=\"password\"\n                label=\"密码\" \n                placeholder=\"请输入密码\"\n                required\n               :error-message=\"passwordErrorMsg\"\n            />\n            <div class=\"register-button\">\n                <van-button type=\"primary\" @click=\"registerAction\" size=\"large\" :loading=\"openLoading\">马上注册</van-button>\n            </div>\n         </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    import url from '@/serviceAPI.config.js'\n    import { Toast } from 'vant'\n    export default {\n        data() {\n            return {\n                username: '',\n                password: '',\n                openLoading:false, //是否开启用户注册的Loading状态\n                usernameErrorMsg:'',  //当用户名出现错误时的提示信息\n                passwordErrorMsg:'',  //当密码出现错误时的提示信息\n            }\n        },\n       methods: {\n           goBack() {\n               this.$router.go(-1)\n           },\n            registerAction(){\n                this.checkForm() && this.axiosRegisterUser() \n                //如果第一个不为true，第二个不执行\n            },\n\n           axiosRegisterUser(){\n               this.openLoading=true;\n               axios({\n                   url:url.registerUser,\n                   method: 'post',\n                   data:{\n                       userName:this.username,\n                       password:this.password\n                   }\n               })\n               .then(response=>{\n                   console.log(response)\n                   if(response.data.code==200){\n                       Toast.success(response.data.message)\n                       this.$router.push('/') //跳转到首页\n                   }else{\n                       console.log(response.data.message)\n                       this.openLoading=false\n                       Toast.fail('注册失败')\n                   }\n\n               })\n               .catch((error)=>{\n                   console.log(error)\n                   Toast.fail('注册失败')\n                    this.openLoading=false\n               })\n           },\n           //****表单验证方法\n           checkForm(){\n              let isOk = true\n              if(this.username.length<5){\n                  this.usernameErrorMsg = \"用户名不能少于5位\"\n                  isOk=false\n              }else{\n                  this.usernameErrorMsg = ''\n              } \n              if(this.password.length<6){\n                  this.passwordErrorMsg = '密码不能少于6位'\n                  isOk = false\n              }else{\n                  this.passwordErrorMsg = ''\n              }\n\n              return isOk\n           } \n\n       }, \n    }\n</script>\n\n<style scoped>\n    .register-panel{\n        width:96%;\n        border-radius: 5px;\n        margin:20px auto;\n        padding-bottom:80px;\n    }\n    .register-button{\n        padding-top:10px;\n    }\n</style>"],"sourceRoot":"src/components/pages"}]}