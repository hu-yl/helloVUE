{"remainingRequest":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huyaolong/Desktop/helloVUE/helloVUE/src/components/pages/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/src/components/pages/Register.vue","mtime":1553096675320},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huyaolong/Desktop/helloVUE/helloVUE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport url from '@/serviceAPI.config.js'\nimport { Toast } from 'vant'\nexport default {\n    data() {\n        return {\n            username: '',\n            password: '',\n            openLoading:false, //是否开启用户注册的Loading状态\n            usernameErrorMsg:'',  //当用户名出现错误时的提示信息\n            passwordErrorMsg:'',  //当密码出现错误时的提示信息\n        }\n    },\n   methods: {\n       goBack() {\n           this.$router.go(-1)\n       },\n        registerAction(){\n            this.checkForm() && this.axiosRegisterUser() \n            //如果第一个不为true，第二个不执行\n        },\n\n       axiosRegisterUser(){\n           this.openLoading=true;\n           axios({\n               url:url.registerUser,\n               method: 'post',\n               data:{\n                   userName:this.username,\n                   password:this.password\n               }\n           })\n           .then(response=>{\n               console.log(response)\n               if(response.data.code==200){\n                   Toast.success(response.data.message)\n                   this.$router.push('/') //跳转到首页\n               }else{\n                   console.log(response.data.message)\n                   this.openLoading=false\n                   Toast.fail('注册失败')\n               }\n\n           })\n           .catch((error)=>{\n               console.log(error)\n               Toast.fail('注册失败')\n                this.openLoading=false\n           })\n       },\n       //****表单验证方法\n       checkForm(){\n          let isOk = true\n          if(this.username.length<5){\n              this.usernameErrorMsg = \"用户名不能少于5位\"\n              isOk=false\n          }else{\n              this.usernameErrorMsg = ''\n          } \n          if(this.password.length<6){\n              this.passwordErrorMsg = '密码不能少于6位'\n              isOk = false\n          }else{\n              this.passwordErrorMsg = ''\n          }\n\n          return isOk\n       } \n\n   }, \n}\n",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Register.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n    <div>\n        <van-nav-bar\n            title=\"用户注册\"\n            left-text=\"返回\"\n            left-arrow\n            @click-left=\"goBack\"\n         />\n         <div class=\"register-panel\">\n            <van-field \n                v-model=\"username\"\n                label=\"用户名\"\n                icon=\"clear\"\n                placeholder=\"请输入用户名\"\n                required\n                @click-icon=\"username=''\"\n                :error-message=\"usernameErrorMsg\"\n            />\n\n            <van-field \n                v-model=\"password\"\n                type=\"password\"\n                label=\"密码\" \n                placeholder=\"请输入密码\"\n                required\n               :error-message=\"passwordErrorMsg\"\n            />\n            <div class=\"register-button\">\n                <van-button type=\"primary\" @click=\"registerAction\" size=\"large\" :loading=\"openLoading\">马上注册</van-button>\n            </div>\n         </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    import url from '@/serviceAPI.config.js'\n    import { Toast } from 'vant'\n    export default {\n        data() {\n            return {\n                username: '',\n                password: '',\n                openLoading:false, //是否开启用户注册的Loading状态\n                usernameErrorMsg:'',  //当用户名出现错误时的提示信息\n                passwordErrorMsg:'',  //当密码出现错误时的提示信息\n            }\n        },\n       methods: {\n           goBack() {\n               this.$router.go(-1)\n           },\n            registerAction(){\n                this.checkForm() && this.axiosRegisterUser() \n                //如果第一个不为true，第二个不执行\n            },\n\n           axiosRegisterUser(){\n               this.openLoading=true;\n               axios({\n                   url:url.registerUser,\n                   method: 'post',\n                   data:{\n                       userName:this.username,\n                       password:this.password\n                   }\n               })\n               .then(response=>{\n                   console.log(response)\n                   if(response.data.code==200){\n                       Toast.success(response.data.message)\n                       this.$router.push('/') //跳转到首页\n                   }else{\n                       console.log(response.data.message)\n                       this.openLoading=false\n                       Toast.fail('注册失败')\n                   }\n\n               })\n               .catch((error)=>{\n                   console.log(error)\n                   Toast.fail('注册失败')\n                    this.openLoading=false\n               })\n           },\n           //****表单验证方法\n           checkForm(){\n              let isOk = true\n              if(this.username.length<5){\n                  this.usernameErrorMsg = \"用户名不能少于5位\"\n                  isOk=false\n              }else{\n                  this.usernameErrorMsg = ''\n              } \n              if(this.password.length<6){\n                  this.passwordErrorMsg = '密码不能少于6位'\n                  isOk = false\n              }else{\n                  this.passwordErrorMsg = ''\n              }\n\n              return isOk\n           } \n\n       }, \n    }\n</script>\n\n<style scoped>\n    .register-panel{\n        width:96%;\n        border-radius: 5px;\n        margin:20px auto;\n        padding-bottom:80px;\n    }\n    .register-button{\n        padding-top:10px;\n    }\n</style>"]}]}